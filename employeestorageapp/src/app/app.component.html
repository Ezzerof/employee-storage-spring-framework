
  <div class="container">
    <h1 class="text-center">Staff Records</h1>
    
    <div class="row mt-5">
      <div class="col">
        <h2>Search</h2>
        <form (submit)="searchEmployee()">
          <input type="text" [(ngModel)]="id" name="id" placeholder="Enter Employee ID">
          <button class="btn btn-primary" type="submit" style="margin-left: 20px; width: 100px;">Search</button>
        </form>

        <div *ngIf="employee">
          <br>
          <div class="search-group">
            <label><strong>Title:</strong> {{employee.title}}</label>
          </div>
          <div class="search-group">
            <label><strong>Name:</strong> {{employee.firstName}} {{employee.secondName}}</label>
          </div>
          <div class="search-group">
            <label><strong>Email:</strong> {{employee.email}}</label>
          </div>
          <div class="search-group">
            <label><strong>Age:</strong> {{employee.age}}</label>
          </div>
          <div class="search-group">
            <label><strong>Username:</strong> {{employee.username}}</label>
          </div>
          <div class="search-group">
            <label><strong>Picture:</strong> {{employee.picture}}</label>
            <img [src]="employee.picture" alt="Employee Picture" style="max-width: 125px; height: auto;">
          </div>
          <!-- <div class="search-group">
            <label><strong>Phone number:</strong> {{employee.phoneNumber}}</label>
          </div>
          <div class="search-group">
            <label><strong>Address:</strong> {{employee.address}}</label>
          </div>
          <div class="search-group">
            <label><strong>Town:</strong> {{employee.town}}</label>
          </div> -->
          <button type="submit" class="btn btn-primary" style="margin-left: 200px; width: 100px;" (click)="showUpdateForm = true">Update</button>
          <div *ngIf="showUpdateForm">
            <div class="search-group">
              <input type="text" [(ngModel)]="employee.title" name="title" placeholder="Title">
            </div>
            <div class="search-group">
              <input type="text" [(ngModel)]="employee.firstName" name="firstName" placeholder="First Name">
            </div>
            <div class="search-group">
              <input type="text" [(ngModel)]="employee.secondName" name="secondName" placeholder="Second Name">
            </div>
            <div class="search-group">
              <input type="text" [(ngModel)]="employee.email" name="email" placeholder="Email">
            </div>
            <div class="search-group">
              <input type="text" [(ngModel)]="employee.age" name="age" placeholder="Age">
            </div>
            <div class="search-group">
              <input type="text" [(ngModel)]="employee.address" name="address" placeholder="Address">
            </div>
            <div class="search-group">
              <input type="text" [(ngModel)]="employee.town" name="town" placeholder="Town">
            </div>
            <div class="search-group">
              <input type="text" [(ngModel)]="employee.country" name="country" placeholder="Country">
            </div>
            <div class="search-group">
              <input type="text" [(ngModel)]="employee.phoneNumber" name="phoneNumber" placeholder="PhoneNumber">
            </div>
            <div class="search-group">
              <input type="text" [(ngModel)]="employee.username" name="username" placeholder="Username">
            </div>
            <div class="search-group">
              <input type="text" [(ngModel)]="employee.picture" name="picture" placeholder="Picture url">
            </div>
            <button type="submit" class="btn btn-primary" style="margin-left: 200px; width: 100px;" (click)="updateEmployee()">Save</button>
            <button type="submit" class="btn btn-primary" style="margin-left: -200px; width: 100px;" (click)="showUpdateForm = false">Close</button>
          </div>
        </div> 
      </div>
      <div class="col" >
        <h2>Add</h2>
        <form (ngSubmit)="addEmployee()" #employeeForm="ngForm" >
          <div class="form-group">
            <label for="title">Title: </label>
            <input type="text" class="form-control" id="title" [(ngModel)]="newEmployee.title" name="title" placeholder="Enter title..." required>
          </div>
          <div class="form-group">
            <label for="firstName">First Name: </label>
            <input type="text" class="form-control" id="firstName" [(ngModel)]="newEmployee.firstName" name="firstName" placeholder="Enter first name..." required>
          </div>
          <div class="form-group">
            <label for="secondName">Second Name: </label>
            <input type="text" class="form-control" id="secondName" [(ngModel)]="newEmployee.secondName" name="secondName" placeholder="Enter second name..." required>
          </div>
      
          <div class="form-group">
            <label for="email">Email Address: </label>
            <input type="text" class="form-control" id="email" [(ngModel)]="newEmployee.email" name="email" placeholder="Enter email..." required>
          </div>
      
          <div class="form-group">
            <label for="age">Age: </label>
            <input type="text" class="form-control" id="age" [(ngModel)]="newEmployee.age" name="age" placeholder="Enter age..." required>
          </div>
          <div class="form-group">
            <label for="phoneNumber">Phone Number: </label>
            <input type="text" class="form-control" id="phoneNumber" [(ngModel)]="newEmployee.phoneNumber" name="phoneNumber" placeholder="Enter phone number..." required>
          </div>
      
          <div class="form-group">
            <label for="address">Address: </label>
            <input type="text" class="form-control" id="address" [(ngModel)]="newEmployee.address" name="address" placeholder="Enter address..." required>
          </div>
          <div class="form-group">
            <label for="country">Country: </label>
            <input type="text" class="form-control" id="country" [(ngModel)]="newEmployee.country" name="country" placeholder="Enter country..." required>
          </div>
          <div class="form-group">
            <label for="town">Town: </label>
            <input type="text" class="form-control" id="town" [(ngModel)]="newEmployee.town" name="town" placeholder="Enter town..." required>
          </div>
          <div class="form-group">
            <label for="username">Username: </label>
            <input type="text" class="form-control" id="username" [(ngModel)]="newEmployee.username" name="username" placeholder="Enter username..." required>
          </div>
          <div class="form-group">
            <label for="password">Password: </label>
            <input type="text" class="form-control" id="password" [(ngModel)]="newEmployee.password" name="password" placeholder="Enter password..." required>
          </div>
          <div class="form-group">
            <label for="picture">Picture: </label>
            <input type="text" class="form-control" id="picture" [(ngModel)]="newEmployee.picture" name="picture" placeholder="Enter picture..." required>
          </div>
      
          <button type="submit" style="width: 100px; margin-left: 19px;" class="btn btn-primary"[disabled]="!employeeForm.form.valid">Submit</button>
        </form>
      </div>
    </div>
    
    <div class="row mt-5">
      <div class="col" style="display: flex; align-items: center; justify-content: center; flex-direction: column; margin-top: 50px;">
        <h2>Employees list</h2>
        <button class="btn btn-primary" (click)="getEmployees()" style="margin-bottom: 20px; width: 100px;">Refresh</button>
      
        <table class="table table-bordered">
          <thead>
            <tr>
              <th>ID</th>
              <th>First Name</th>
              <th>Second Name</th>
              <th>Email</th>
              <th>Age</th>
              <th>Username</th>
              <th>Picture</th>
            </tr>
          </thead>
          <tbody>
            <ng-container *ngFor="let employee of employees">
              <tr>
                <td class="emp-element">{{ employee.id }}</td>
                <td class="emp-element">{{ employee.firstName }}</td>
                <td class="emp-element">{{ employee.secondName }}</td>
                <td class="emp-element">{{ employee.email }}</td>
                <td class="emp-element">{{ employee.age }}</td>
                <td class="emp-element">{{ employee.username }}</td>
                <td class="emp-element">
                  <img [src]="employee.picture" alt="Employee Picture" style="max-width: 125px; height: auto;">
                </td>
                <td class="remove-button">
                  <button class="btn btn-primary" (click)="removeEmployee(employee)">Remove</button>
                </td>
              </tr>
            </ng-container>
          </tbody>
        </table>
      </div>
    </div>
  </div>

